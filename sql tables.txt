CREATE TABLE User_Info (
	U_NI_NR       INTEGER,  
	U_PASSPORT_NR VARCHAR(10), 
	U_ADDRESS     VARCHAR(100),
	U_PHONE_NR    INTEGER(9),
	U_BIRTH_DATE  DATE,
	U_EMAIL       VARCHAR(60),
	U_NAME	      VARCHAR(60),
	U_GENDER      VARCHAR(10),
	PRIMARY KEY U_NI_NR,
	CHECK U_PASSPORT_NR UNIQUE NOT NULL);

CREATE TABLE GYM_EMPLOYEE_MANAGER (
	EMP_ID        INTEGER,
	U_NI_NR	      INTEGER,
	PRIMARY KEY EMP_ID,
	FOREIGN KEY U_NI_NR REFERENCES USER_INFO(U_NI_NR),

CREATE TABLE GYM_EMPLOYEE_TRAINER (
	EMP_ID        INTEGER,
	U_NI_NR	      INTEGER,
	PRIMARY KEY EMP_ID,
	FOREIGN KEY U_NI_NR REFERENCES USER_INFO(U_NI_NR),

CREATE TABLE GYM_USER (
	USER_ID       INTEGER,
	U_NI_NR       INTEGER,
	PRIMARY KEY USER_ID,
	FOREIGN KEY U_NI_NR REFERENCES USER_INFO(U_NI_NR);

CREATE TABLE JOINS (
	USER_ID       INTEGER,
	C_ID          INTEGER
	J_TIMESTAMP   TIMESTAMP,
	J_VALIDATE    BOOLEAN,
	PRIMARY KEY (USER_ID, C_ID),
	FOREIGN KEY USER_ID REFERENCES GYM_USER(USER_ID),
	FOREIGN KEY C_ID REFERENCES CLASS(C_ID);


CREATE TABLE IS_QUALIFIED (
	EMP_ID        INTEGER,
	SPORT_ID      INTEGER,
	PRIMARY KEY (EMP_ID,SPORT_ID),
	FOREIGN KEY EMP_ID REFERENCES GYM_EMPLOYEE_TRAINER(EMP_ID),
	FOREIGN KEY SPORT_ID REFERENCES TYPE_OF_SPORT(SPORT_ID);

CREATE TABLE IS_AUTHORIZED (
	USER_ID	      INTEGER,
	SPORT_ID      INTEGER,
	PRIMARY KEY(USER_ID, SPORT_ID),
	FOREIGN KEY USER_ID REFERENCES GYM_EMPLOYEE_TRAINER(USER_ID),
	FOREIGN KEY SPORT_ID REFERENCES TYPE_OF_SPORT(SPORT_ID);

